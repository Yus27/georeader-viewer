(this["webpackJsonpgeoreader-viewer"]=this["webpackJsonpgeoreader-viewer"]||[]).push([[0],{1414:function(e,a,t){"use strict";t.r(a);var n=t(1),o=t.n(n),r=t(105),l=t.n(r),s=(t(609),t(14)),i=t(76),c=t(77),u=t(81),p=t(80),h=(t(610),t(334)),m=t.n(h),g=t(595),d=t(26),b=t(139),C=t(597),O=t(61),f=t(596),j=t.n(f),v=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).setLoading=function(e){n.setState((function(a){return Object(s.a)(Object(s.a)({},a),{},{loading:e})}))},n.onFileChange=function(e){if(console.log("onFileChange"),null!==e.target&&null!=e.target.files){var a=e.target.files[0];n.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{selectedFile:a})}))}},n.onFileUpload=function(){var e=Object(g.a)(m.a.mark((function e(a){var t,o,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFileUpload"),null!==n.state.selectedFile){e.next=5;break}t=null,e.next=13;break;case 5:return(o=new FormData).append("file",n.state.selectedFile,n.state.selectedFile.name),n.setLoading(!0),e.next=10,j.a.post("https://agile-escarpment-74931.herokuapp.com/",o);case 10:r=e.sent,console.log(r),200!==r.status?(alert(r.statusText),t=null,n.setLoading(!1)):(console.log(typeof r.data),t=r.data,console.log(t.Stage),console.log(t.TimeBase),console.log(t.AntDist),console.log(t.DefaultV),console.log(t.GPRUnit),console.log(t.AntenName),console.log(t.Frequency),console.log(t.Data.length),null===t.Error?(n.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{selectedFile:null})})),n.props.onOpenRad(t),n.setLoading(!1)):(alert(t.Error),t=null,n.setLoading(!1)));case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.state={selectedFile:null,loading:!1},n}return Object(c.a)(t,[{key:"render",value:function(){var e=this.state.loading?o.a.createElement(C.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Open";return o.a.createElement(d.a,null,o.a.createElement(O.a,{show:this.props.show,onHide:this.props.onCancelOpenRad},o.a.createElement(O.a.Header,{closeButton:!0},o.a.createElement(O.a.Title,null,"Open GPR data")),o.a.createElement(O.a.Body,null,o.a.createElement(d.a.File,{id:"rad-file",onChange:this.onFileChange})),o.a.createElement(O.a.Footer,null,o.a.createElement(b.a,{variant:"secondary",onClick:this.props.onCancelOpenRad},"Close"),o.a.createElement(b.a,{variant:"primary",disabled:null===this.state.selectedFile,onClick:this.onFileUpload},e))))}}]),t}(o.a.Component),E=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(O.a,{show:this.props.show,onHide:this.props.onCancelChangeParams},o.a.createElement(O.a.Header,{closeButton:!0},o.a.createElement(O.a.Title,null,"GPR data properties")),o.a.createElement(O.a.Body,null,o.a.createElement(d.a,null,o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Stage, m"),o.a.createElement(d.a.Control,{type:"number",value:this.props.params.Stage,onChange:this.props.onChangeStage,min:.001,max:1e4,step:1})),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Timebase, ns"),o.a.createElement(d.a.Control,{type:"number",value:this.props.params.TimeBase,onChange:this.props.onChangeTimeBase,min:.1,max:1e5,step:.5})),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Antenna distance, m"),o.a.createElement(d.a.Control,{type:"number",value:this.props.params.AntDist,onChange:this.props.onChangeAntDist,min:0,max:100,step:.1})),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Default velocity, m/ns"),o.a.createElement(d.a.Control,{type:"number",value:this.props.params.DefaultV,onChange:this.props.onChangeDefaultV,min:0,max:.3,step:.001})),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"GPR unit"),o.a.createElement(d.a.Control,{type:"text",value:this.props.params.GPRUnit,onChange:this.props.onChangeGPRUnit})),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Antenna name"),o.a.createElement(d.a.Control,{type:"text",value:this.props.params.AntenName,onChange:this.props.onChangeAntenName})),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Central frequency, MHz"),o.a.createElement(d.a.Control,{type:"number",value:this.props.params.Frequency,onChange:this.props.onChangeFrequency})))),o.a.createElement(O.a.Footer,null,o.a.createElement(b.a,{variant:"secondary",onClick:this.props.onCancelChangeParams},"Close"),o.a.createElement(b.a,{variant:"primary",onClick:this.props.onChangeParams},"Save changes")))}}]),t}(o.a.Component),y=t(225),S=t(224),P=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(y.a,{bg:"light",expand:"lg"},o.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(S.a,{className:"mr-auto",onSelect:this.props.onSelectMenuElement},o.a.createElement(S.a.Link,{disabled:!1,eventKey:"open"},"Open"),o.a.createElement(S.a.Link,{disabled:!1,eventKey:"properties"},"Properties"))))}}]),t}(o.a.Component),w=t(599),F=t.n(w),R=t(601),k=t.n(R)()(F.a),D=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.props.show&&o.a.createElement(k,{show:this.props.show,data:[{z:this.props.data.Data,type:"heatmap"}],layout:{autosize:!0,yaxis:{autorange:"reversed",title:{text:"Samples"}},xaxis:{title:{text:"Traces"}}},useResizeHandler:!0,config:{scrollZoom:!0,responsive:!0},style:{width:"100vw",height:"75vh"}}))}}]),t}(o.a.Component),x=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).onSelectMenuElement=function(a){switch(console.log("onSelectMenuElement"),a){case"open":e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{isOpening:!0,isChangingProperties:!1})}));break;case"properties":e.setState((function(a){return Object(s.a)(Object(s.a)({},a),{},{isOpening:!1,isChangingProperties:null!==e.state.data})}));break;default:console.log("default")}},e.onOpenRad=function(a){console.log("onOpenRad"),e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{isOpening:!1,isChangingProperties:null!==a,data:a})}))},e.onCancelOpenRad=function(){console.log("onCancelOpenRad"),e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{isOpening:!1,isChangingProperties:!1})}))},e.onChangeParams=function(a){console.log("onChangeParams");var t,n=e.state.data;t=null===n?null:Object(s.a)(Object(s.a)({},n),a),e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{isOpening:!1,isChangingProperties:!1,data:t,isRad:null!==t})}))},e.onCancelChangeParams=function(){console.log("onCancelChangeParams"),e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{isOpening:!1,isChangingProperties:!1})}))},e.onChangeStage=function(a){var t=a.target.value;e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{Stage:t})}))},e.onChangeTimeBase=function(a){var t=a.target.value;e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:Object(s.a)(Object(s.a)({},e.data),{},{TimeBase:t})})}))},e.onChangeAntDist=function(a){var t=a.target.value;e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:Object(s.a)(Object(s.a)({},e.data),{},{AntDist:t})})}))},e.onChangeDefaultV=function(a){var t=a.target.value;e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:Object(s.a)(Object(s.a)({},e.data),{},{DefaultV:t})})}))},e.onChangeGPRUnit=function(a){var t=a.target.value;e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:Object(s.a)(Object(s.a)({},e.data),{},{GPRUnit:t})})}))},e.onChangeAntenName=function(a){var t=a.target.value;e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:Object(s.a)(Object(s.a)({},e.data),{},{AntenName:t})})}))},e.onChangeFrequency=function(a){var t=a.target.value;e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:Object(s.a)(Object(s.a)({},e.data),{},{Frequency:t})})}))},e.state={data:null,isRad:!1,isOpening:!1,isChangingProperties:!1},e}return Object(c.a)(t,[{key:"render",value:function(){var e={Stage:1,TimeBase:512,AntDist:0,DefaultV:.1,GPRUnit:"",AntenName:"",Frequency:1e3};return null!==this.state.data&&(e=this.state.data),o.a.createElement(n.Fragment,null,o.a.createElement(P,{onSelectMenuElement:this.onSelectMenuElement}),o.a.createElement(v,{show:this.state.isOpening,onOpenRad:this.onOpenRad,onCancelOpenRad:this.onCancelOpenRad}),o.a.createElement(E,{show:this.state.isChangingProperties,onChangeParams:this.onChangeParams,onCancelChangeParams:this.onCancelChangeParams,onChangeStage:this.onChangeStage,onChangeTimeBase:this.onChangeTimeBase,onChangeAntDist:this.onChangeAntDist,onChangeDefaultV:this.onChangeDefaultV,onChangeGPRUnit:this.onChangeGPRUnit,onChangeAntenName:this.onChangeAntenName,onChangeFrequency:this.onChangeFrequency,params:e}),o.a.createElement(D,{show:this.state.isRad,data:this.state.data}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},604:function(e,a,t){e.exports=t(1414)},609:function(e,a,t){},905:function(e,a){}},[[604,1,2]]]);
//# sourceMappingURL=main.309d3e27.chunk.js.map